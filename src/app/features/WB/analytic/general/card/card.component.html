<div class="d-flex flex-row active-dark-bg p-1 rounded-3 border app-soft-element-border-color mb-3 justify-content-between">
    <div class="d-flex flex-row">
        <button routerLink="/dashboard/wb/analytics/general/menu" [queryParams]="{'connectionId' : connectionId}" class="app-icon-button app-button-border me-1">
            <span class="material-symbols-outlined">
                undo
            </span>
        </button>
        <button [cdkMenuTriggerFor]="calendar" class="app-icon-button app-button-border me-1">
            <span class="material-symbols-outlined">
                calendar_month
            </span>
        </button>
        <button [cdkMenuTriggerFor]="analyticCalendarType" style="max-width: 200px;" class="app-button app-main-button w-100 app-button-border me-1 d-flex flex-row justify-content-between">
            <span class="text-truncate" style="max-width: 170px; font-size: 14px;">{{selectedAnalyticCalendarType}}</span>
            <span class="material-symbols-outlined">
                expand_more
            </span>
        </button>
        <ng-template #analyticCalendarType>
            <div style="max-height: 300px; max-width: 300px;" class="rounded-2 app-transparent-dark-bg border shadow mt-1" cdkMenu>
                <div class="d-flex flex-column p-1 h-100">
                    <ul class="app-active-list mb-0 overflow-auto">
                        <li *ngFor="let type of analyticCalendarTypes"  cdkMenuItem 
                            class="d-flex flex-row justify-content-between rounded-1" 
                            [ngClass]="{'active' : selectedAnalyticCalendarType == type}" (click)="selectAnalyticType(type)">
                            <span class="text-truncate app-color-white75">{{type}}</span>
                        </li>
                    </ul>
                </div>
            </div>
        </ng-template>
        <ng-template #calendar>
            <div class="rounded-2 app-transparent-dark-bg border shadow mt-1" cdkMenu>
                <p-calendar
                    (onSelect)="selectDates()"
                    [(ngModel)]="rangeDates" 
                    selectionMode="range" 
                    dateFormat="mm.dd.yy"
                    [inline]="true" 
                    [readonlyInput]="true" />
            </div>
        </ng-template>
    </div>
</div>

<div style="font-size: 14px;" class="app-color-white75">
    <app-progress-bar *ngIf="isLoad; else cardTempalte" class="mt-3"></app-progress-bar>
    <ng-template #cardTempalte>
        <div *ngIf="card != null">
            <div class="row g-2">
                <div *ngIf="card.mainPhotoUrl" class="col-auto">
                    <img style="max-height: 200px;" [src]="card.mainPhotoUrl" class="rounded-1 img-fluid">
                </div>
                <div class="col">
                    <div style="height: 200px;" class="active-dark-bg p-1 rounded-3 border app-soft-element-border-color overflow-x-hidden overflow-y-auto">
                        <div class="row gy-2">
                            <div class="col-12 col-sm-6">
                                <div style="max-width: 250px;">
                                    <div class="text-white"  style="font-size: 12px;">Информация</div>
                                    <div class="text-truncate">{{card.title}}</div>
                                    <div class="text-truncate">Артикул: {{card.article}}</div>
                                    <div class="text-truncate">Код: {{card.vendorCode}}</div>
                                    <div class="text-truncate">Длина: {{card.length}}</div>
                                    <div class="text-truncate">Ширина: {{card.width}}</div>
                                    <div class="text-truncate">Высота: {{card.height}}</div>
                                </div>
                            </div>
                            <div class="col-12 col-sm-6">
                                <div style="max-width: 250px;">
                                    <div class="text-white" style="font-size: 12px;">Статистика</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div style="max-height: 50vh;" class="active-dark-bg p-1 rounded-3 border app-soft-element-border-color mt-3 overflow-auto">
                
            </div>
        </div>
    </ng-template>
</div>